<!DOCTYPE html>
<html>
  <head>
    <title>EvVen</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.js"></the-script>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
    <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.11.0/mapbox-gl.js"></script>
    <style>
      #navbar {
        padding: 30px 10px;
        width: 100%;
        top: 0;
        /* overflow: hidden; */
        justify-content: space-between;
        background: #140057;
        opacity: 0.8;
        transition: 0.4s;
        position: fixed;
        z-index: 99;
      }

      #logo {
        transition: 0.4s;
        width: 120px;
        height: 90px;
      }

      #navbarSupportedContent {
        display: flex;
        justify-content: flex-start;
        margin-right: 50px;
      }

      #nav {
        transition: 0.4s;
        /* top: 40px;
        right: 15px; */
      }

      #searchbar {
        transition: 0.5s;
        border-radius: 10%;
        opacity: 0;
       }

      #search-items {
        display: flex;
        justify-content:center;
        /* top: 40px;
        right:90px; */
      }

      #search-icon{
        translate: none;
        transition: 0.4s;
        background-color: transparent;
        box-shadow: none;
        border:none;
        z-index: 1;
        margin-left: 20px;
      }

      @media screen and (max-width: 580px) {
        #navbar {
        padding: 20px 10px !important;
        }
      }
    </style>
  </head>


  <body>
    <div id="pages-container">
      <main>
      <%= render "shared/navbar" if !current_page?(root_path) %>
        <script>
          function showBar() {
              document.getElementById("searchbar").style.opacity = "1";
          }

          window.onscroll = function() {scrollFunction()};

          function scrollFunction() {
            if (document.body.scrollTop > 30 || document.documentElement.scrollTop > 30) {
              document.getElementById("navbar").style.padding = "10px 10px";
              document.getElementById("logo").style.height = "50px";
              document.getElementById("logo").style.width = "50px";
              document.getElementById("nav").style.top = "20px";
              document.getElementById("search-icon").style.top = "20px";
              document.getElementById("searchbar").style.top = "10px";


             } else {
               document.getElementById("navbar").style.padding = "20px 10px";
               document.getElementById("logo").style.height = "120px"
               document.getElementById("logo").style.width = "90px"
               document.getElementById("nav").style.top = "40px";
               document.getElementById("search-icon").style.top = "40px";
               document.getElementById("searchbar").style.top = "40px";
            }
          }
        </script>
        <%= render "shared/flashes"%>
        <div style="margin-top: 210px">
        <%= yield %>
        </div>
      </main>
      <%= render "shared/footer" if !current_page?(root_path) %>
    </div>
  </body>
</html>
